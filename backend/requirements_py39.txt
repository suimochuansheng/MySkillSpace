# ========================================
# SkillSpace Python 3.9 兼容依赖配置
# 适配Qwen-7B-Chat大语言模型部署
# ========================================

# ========== 核心Web框架 ==========
Django==4.2.27
djangorestframework==3.16.1
django-cors-headers==4.9.0
django-simpleui==2025.5.262

# ========== 数据库驱动 ==========
PyMySQL==1.1.2

# ========== 异步任务队列 ==========
celery==5.5.3
redis==5.0.1  # 添加redis客户端
amqp==5.3.1
billiard==4.2.3
kombu==5.5.4
vine==5.1.0

# ========== 工具库 ==========
python-dotenv==1.2.1
python-dateutil==2.9.0.post0
six==1.17.0
sqlparse==0.5.3
tzdata==2025.2
colorama==0.4.6
click==8.1.8
click-didyoumean==0.3.1
click-plugins==1.1.1.2
click-repl==0.3.0
prompt_toolkit==3.0.52
wcwidth==0.2.14

# ========== 深度学习/AI核心库（Python 3.9兼容版本）==========
# PyTorch生态（降级到2.1.x LTS版本，稳定支持Python 3.9）
torch==2.1.2+cu118  # CUDA 11.8版本，如果无GPU使用torch==2.1.2+cpu
torchaudio==2.1.2+cu118
torchvision==0.16.2+cu118

# Transformers和相关依赖
transformers==4.36.2  # 降级到稳定版本，完全支持Qwen
tokenizers==0.15.0
sentencepiece==0.1.99
safetensors==0.4.1

# Hugging Face生态
huggingface-hub==0.20.3
accelerate==0.26.1  # 降级以兼容torch 2.1.x

# 量化和优化库
bitsandbytes==0.41.3.post2  # 降级到Python 3.9兼容版本

# ModelScope（魔搭社区）
modelscope==1.11.0

# ========== 科学计算库（Python 3.9兼容版本）==========
numpy==1.24.4  # 降级到1.24.x，兼容Python 3.9
pillow==10.2.0  # 降级以避免兼容性问题

# ========== 其他依赖 ==========
certifi==2024.2.2
charset-normalizer==3.3.2
cffi==1.16.0
pycparser==2.21
idna==3.6
requests==2.31.0
urllib3==2.2.0
filelock==3.13.1
fsspec==2024.2.0
Jinja2==3.1.3
MarkupSafe==2.1.5
mpmath==1.3.0
networkx==3.1  # 降级到3.1（Python 3.9兼容）
packaging==23.2
psutil==5.9.8
PyYAML==6.0.1
regex==2023.12.25
setuptools==69.0.3
sympy==1.12
tqdm==4.66.1
typing_extensions==4.9.0

# ========================================
# 安装说明：
# ========================================
# 
# 1. 如果使用GPU（CUDA 11.8）：
#    pip install torch==2.1.2+cu118 torchaudio==2.1.2+cu118 torchvision==0.16.2+cu118 --index-url https://download.pytorch.org/whl/cu118
#    然后: pip install -r requirements_py39.txt
# 
# 2. 如果使用CPU：
#    将上面torch相关的版本改为：
#    torch==2.1.2+cpu
#    torchaudio==2.1.2+cpu
#    torchvision==0.16.2+cpu
#    然后: pip install torch==2.1.2+cpu torchaudio==2.1.2+cpu torchvision==0.16.2+cpu --index-url https://download.pytorch.org/whl/cpu
#    最后: pip install -r requirements_py39.txt
# 
# 3. 验证安装：
#    python -c "import torch; print(torch.__version__); print(torch.cuda.is_available())"
#    python -c "from transformers import AutoTokenizer; print('Transformers OK')"
# 
# ========================================
